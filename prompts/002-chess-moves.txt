A function that given a chess position, generates all the legal moves for the given player (black/white).